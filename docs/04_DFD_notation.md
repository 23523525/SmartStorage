## 2.4. Фрагменты модели в нотации DFD (с комментариями)

### Контекстная диаграмма (уровень 0)

- Внешняя сущность: Оператор склада.
- Процесс P0: Система SmartStorage.
- Хранилища данных: D1 «Категории», D2 «Товары», D3 «Движения».

Потоки данных:

- Оператор → P0: «Команды управления складом» (создать категорию/товар, провести приход/расход, запросить остатки).
- P0 → Оператор: «Результаты операций и отчёты» (списки товаров, остатки, подтверждения операций).
- P0 ↔️ D1, D2, D3: операции чтения/записи категорий, товаров и движений.

### DFD уровня 1 (фрагменты)

Процесс 1.0 — Управление категориями

- Вход: команды оператора (создать/изменить/удалить категорию).
- Выход: обновлённые записи в D1 «Категории», ответы об успешном выполнении.

Процесс 2.0 — Управление товарами

- Вход: команды по добавлению/редактированию товара.
- Хранилища: D1 «Категории» (для проверки существующей категории), D2 «Товары».
- Выход: записи о товарах (новые/обновлённые) и информация об остатках.

Процесс 3.0 — Учёт движений

- Вход: запросы прихода/расхода, данные с QR-кодов.
- Хранилища: D2 «Товары», D3 «Движения».
- Выход: новые записи в D3, обновлённые поля count в D2, сообщения об успехе или ошибках (например, недостаточно остатка).

Процесс 4.0 — Обработка QR-кодов

- Вход: QR-код от внешнего клиента или оператора.
- Выход: интерпретированные данные (например, id товара), которые затем используются процессами 2.0 и 3.0.

Комментарий:  
DFD-модель подчёркивает потоки данных между пользователем, системой и хранилищами, а также разделение логики на справочники (категории, товары) и транзакции (движения).